package com.zhd.exploit.api.exploitApi;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import com.google.gson.Gson;
import com.zhd.exploit.api.MainApplication;
import com.zhd.exploit.api.dto.PayDTO;
import com.zhd.exploit.api.utils.MD5Utill;

@RunWith(SpringJUnit4ClassRunner.class)
@SpringBootTest(classes = MainApplication.class)
public class DaoTest {

	@Test
	public void fun1() {
		try {

		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public static void main(String[] args) {
		PayDTO dto = new PayDTO();
		dto.setCporderno("123");
		dto.setMerchantid("2015020");
		dto.setAppmount("1000");
		dto.setNotifyurl("http://www.baidu.com");
		dto.setPaytype("1");
		dto.setTransdata("20154710");
		dto.setSubject("新手大礼包");
		StringBuffer buffer = new StringBuffer();
		buffer.append(dto.getMerchantid()).append("|").append(dto.getCporderno()).append("|");
		buffer.append(dto.getAppmount()).append("|").append("2342asdas");
		String signData = buffer.toString();
		String hexString = MD5Utill.toHexString(MD5Utill.md5(signData));
		dto.setSign(hexString);
		System.out.println(new Gson().toJson(dto));
	}

}
